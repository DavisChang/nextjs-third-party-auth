<!DOCTYPE html>
<html>
	<head>
		<title>third-party-auth</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
	</head>
	<body>
		<script>
		  window.fbAsyncInit = function() {
		    FB.init({
		      appId      : '393378625877359',
		      cookie     : true,
		      xfbml      : true,
		      version    : 'v12.0'
		    });
		      
		    FB.AppEvents.logPageView();   
		      
		  };

		  (function(d, s, id){
		     var js, fjs = d.getElementsByTagName(s)[0];
		     if (d.getElementById(id)) {return;}
		     js = d.createElement(s); js.id = id;
		     js.src = "https://connect.facebook.net/en_US/sdk.js";
		     fjs.parentNode.insertBefore(js, fjs);
		   }(document, 'script', 'facebook-jssdk'));

			function checkLoginState() {
				FB.getLoginStatus(function(response) {
					statusChangeCallback(response);
				});
			}

			function statusChangeCallback(data) {
				console.log('statusChangeCallback:', data)
			}
		</script>
		<div>
			<h3>login</h3>
			<fb:login-button 
			  scope="public_profile,email"
			  onlogin="checkLoginState();">
			</fb:login-button>
		</div>

		<script>
		  window.fbAsyncInit = function() {
		    FB.init({
		      appId      : '393378625877359',
		      xfbml      : true,
		      version    : 'v12.0'
		    });
		    FB.AppEvents.logPageView();
		  };

		  (function(d, s, id){
		     var js, fjs = d.getElementsByTagName(s)[0];
		     if (d.getElementById(id)) {return;}
		     js = d.createElement(s); js.id = id;
		     js.src = "https://connect.facebook.net/en_US/sdk.js";
		     fjs.parentNode.insertBefore(js, fjs);
		   }(document, 'script', 'facebook-jssdk'));
		</script>

		<h2>third-party-auth</h2>
		<p>test third-party-auth</p>
		<div>
			<h3>fb-like</h3>
			<div
			  class="fb-like"
			  data-share="true"
			  data-width="450"
			  data-show-faces="true">
			</div>
		</div>
		<div>
			<h3>ig - authentication</h3>
			<button onclick="igAuth()">auth</button>
			<script>
				function igAuth() {
					window.location.href = 'https://api.instagram.com/oauth/authorize?client_id=1500558773645378&redirect_uri=https://davischang.github.io/nextjs-third-party-auth/public/index.html&scope=user_profile,user_media&response_type=code'
				}
			</script>
		</div>
	</body>
</html>

